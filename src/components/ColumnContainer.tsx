import { Grid2, Typography } from "@mui/material";
import TaskCard from "./TaskCard";
import { useRef } from "react";
import { Section } from "../types/type";
import { motion } from "framer-motion";

const ColumnContainer = (props: Section) => {
  const {
    cards,
    handleDragEnd,
    handleDragOver,
    handleDragStart,
    handleDrop,
    sectionColor,
    sectionId,
    sectionName,
    swapCard,
  } = props;

  const containerRef = useRef<HTMLDivElement | null>(null);

  return (
    <motion.div
      whileInView={{ opacity: 1, y: 0 }}
      initial={{ opacity: 0, y: -100 }}
      transition={{ duration: 1, delay: 0.5 }}
    >
      <Grid2 size={12}>
        <Grid2
          container
          ref={containerRef}
          direction={"column"}
          width={"100%"}
          minHeight={"50vh"}
          border={"1px dotted lightgrey"}
          onDragOver={(e) => handleDragOver(e)}
          onDrop={(e: any) => handleDrop(e, sectionId)}
        >
          <Grid2>
            <Typography variant="h6" align="center" color="primary">
              {sectionName}
            </Typography>
          </Grid2>
          <Grid2 container justifyContent={"center"} spacing={2}>
            {cards.map((card, index) => (
              <Grid2 size={{ xs: 12, md: 6 }}>
                {/* <motion.div
                  animate={{ y: [-10, 10] }}
                  transition={{
                    duration: (index % 2) + 1,
                    ease: "easeOut",
                    repeat: Infinity,
                    repeatType: "reverse",
                    x: { type: "spring", bounce: 20 },
                  }}
                > */}
                <TaskCard
                  // containerRef={containerRef}
                  handleDragStart={handleDragStart}
                  handleDragEnd={handleDragEnd}
                  swapCard={swapCard}
                  key={card.id}
                  color={sectionColor}
                  handleCloseCb={props.handleCloseCb}
                  {...card}
                />
                {/* </motion.div> */}
              </Grid2>
            ))}
            {cards.length===0 && <svg version="1.0" xmlns="http://www.w3.org/2000/svg"   viewBox="0 0 300.000000 206.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,206.000000) scale(0.100000,-0.100000)" fill={sectionColor} stroke="none"> <path d="M1490 1781 c-5 -11 -9 -39 -9 -63 l2 -43 6 48 c6 43 21 66 43 67 23 0 37 -54 43 -167 7 -118 6 -122 -15 -133 -16 -9 -25 -9 -36 1 -8 6 -17 9 -21 6 -3 -4 6 -12 20 -18 22 -10 31 -9 53 6 22 14 25 22 20 47 -3 17 -6 73 -6 124 0 89 -1 94 -27 119 -33 30 -59 32 -73 6z"/> <path d="M1835 1609 c-30 -32 -34 -38 -13 -25 14 10 29 24 32 32 3 8 16 19 28 24 14 5 17 9 8 9 -9 1 -34 -18 -55 -40z"/> <path d="M1910 1645 c0 -3 9 -14 21 -26 11 -11 19 -27 17 -34 -4 -21 -149 -165 -165 -165 -8 0 -24 5 -36 12 -20 10 -21 10 -8 -5 24 -30 69 -21 109 21 108 111 121 127 116 147 -5 18 -54 64 -54 50z"/> <path d="M1146 1604 c-9 -8 -16 -20 -16 -25 0 -6 7 -3 16 5 18 19 28 20 55 6 10 -6 19 -8 19 -6 0 3 -13 12 -29 21 -27 13 -31 13 -45 -1z"/> <path d="M1254 1545 c13 -14 27 -25 31 -25 5 0 -2 11 -15 25 -13 14 -27 25 -31 25 -5 0 2 -11 15 -25z"/> <path d="M1130 1548 c0 -13 58 -68 127 -120 58 -44 93 -46 113 -7 10 17 7 25 -19 50 -17 16 -31 25 -31 21 0 -5 9 -17 20 -27 11 -10 20 -24 20 -31 0 -7 -9 -18 -20 -24 -30 -16 -58 3 -182 122 -15 14 -28 22 -28 16z"/> <path d="M1751 1525 c-17 -20 -31 -41 -31 -48 0 -7 6 -3 12 8 6 11 22 32 36 48 14 15 23 27 20 27 -3 0 -20 -16 -37 -35z"/> <path d="M872 1308 c2 -39 7 -53 18 -53 11 0 15 12 15 50 0 40 -4 50 -18 53 -16 3 -18 -3 -15 -50z m26 -7 c1 -17 -2 -31 -8 -31 -5 0 -10 16 -10 36 0 42 15 38 18 -5z"/> <path d="M1495 1310 c-13 -5 -14 -9 -5 -9 8 0 24 4 35 9 13 5 14 9 5 9 -8 0 -24 -4 -35 -9z"/> <path d="M1270 1234 c-193 -49 -296 -71 -317 -67 -31 5 -33 4 -33 -25 0 -22 -6 -32 -21 -37 -13 -4 -25 -2 -29 5 -5 9 -36 -8 -101 -55 -128 -92 -125 -87 -109 -125 16 -38 39 -34 89 16 41 42 30 44 -23 4 -40 -30 -56 -31 -56 -2 0 18 168 142 191 142 11 0 11 -3 -1 -11 -11 -8 -9 -9 10 -4 35 10 70 44 63 62 -4 11 -1 14 13 10 10 -3 35 -8 54 -12 35 -6 35 -6 10 9 -23 14 -23 15 -4 16 11 0 24 -4 30 -9 5 -6 38 -16 74 -24 36 -8 145 -37 243 -66 l177 -51 228 56 c125 30 259 61 297 68 l70 13 -39 11 c-22 6 -51 9 -65 6 -20 -4 -23 -3 -11 5 9 6 10 11 3 11 -6 0 -20 3 -30 6 -15 5 -15 4 -3 -5 13 -9 13 -11 -2 -11 -9 0 -23 6 -30 13 -7 8 -19 12 -27 9 -9 -3 -11 0 -7 7 6 8 0 10 -21 6 -22 -5 -25 -4 -13 4 11 8 7 10 -20 5 -28 -4 -32 -3 -20 6 12 9 11 10 -7 5 -31 -9 -79 5 -61 17 10 8 9 8 -5 4 -26 -8 -82 5 -65 16 8 5 2 6 -16 2 -18 -4 -27 -3 -23 3 4 6 -4 8 -21 6 -22 -4 -24 -2 -12 7 13 10 12 11 -3 6 -26 -8 -82 5 -65 15 19 13 18 12 -292 -67z m335 26 c11 -5 49 -15 85 -24 113 -28 262 -74 273 -85 7 -7 6 -12 -4 -15 -40 -13 -177 -49 -241 -62 -40 -8 -89 -19 -108 -24 -19 -5 -48 -12 -64 -16 l-29 -7 7 42 c4 25 2 41 -4 41 -5 0 -10 -16 -10 -35 0 -21 -5 -35 -12 -35 -11 0 -55 12 -233 65 -27 9 -59 17 -70 20 -43 10 -111 27 -125 32 -8 3 21 13 65 23 44 10 118 28 165 40 47 12 94 23 105 24 11 2 27 6 35 9 8 4 27 9 43 11 l27 5 0 -75 c0 -43 4 -74 10 -74 6 0 10 35 10 85 l0 85 28 -11 c15 -7 36 -15 47 -19z"/> <path d="M770 1231 c0 -18 6 -21 51 -21 43 0 50 3 47 18 -2 13 -15 18 -51 20 -42 3 -47 1 -47 -17z m80 -1 c0 -5 -16 -10 -36 -10 -21 0 -33 4 -29 10 3 6 19 10 36 10 16 0 29 -4 29 -10z"/> <path d="M912 1233 c3 -14 13 -18 53 -18 38 0 50 4 50 15 0 11 -14 16 -53 18 -47 3 -53 1 -50 -15z m78 -3 c0 -5 -13 -10 -30 -10 -16 0 -30 5 -30 10 0 6 14 10 30 10 17 0 30 -4 30 -10z"/> <path d="M877 1203 c-11 -10 -8 -35 2 -28 6 3 14 -3 20 -12 9 -16 10 -16 11 3 0 23 -23 48 -33 37z"/> <path d="M2196 1055 c38 -49 80 -105 93 -123 23 -32 68 -62 94 -62 15 0 40 47 32 60 -4 6 -160 123 -268 200 -12 8 10 -25 49 -75z m135 -100 c3 2 15 -5 29 -15 14 -10 22 -21 19 -24 -3 -3 -16 4 -29 17 -14 12 -26 20 -29 17 -2 -3 -10 6 -18 20 l-15 25 20 -22 c11 -12 21 -20 23 -18z m25 -52 c-6 -6 -36 9 -36 18 0 5 9 4 20 -3 10 -7 18 -14 16 -15z"/> <path d="M1248 1068 c5 -5 57 -22 114 -37 58 -16 111 -31 117 -35 6 -4 11 -3 11 2 0 4 -57 24 -126 44 -69 20 -121 31 -116 26z"/> <path d="M795 1000 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z"/> <path d="M1507 993 c17 -6 2 -35 -54 -97 -24 -27 -41 -51 -38 -54 2 -3 13 6 24 19 55 70 71 84 71 66 0 -24 -23 -55 -176 -236 -54 -65 -75 -96 -55 -80 18 13 41 29 52 35 10 6 16 15 11 20 -4 4 2 2 12 -6 17 -14 18 -13 12 7 -5 15 1 29 20 50 15 15 21 21 15 11 -8 -11 -9 -18 -1 -23 5 -3 11 -4 11 -1 1 3 3 11 4 16 1 6 3 15 4 21 0 5 6 7 11 4 6 -3 10 1 10 9 0 9 5 16 10 16 5 0 9 6 8 13 -2 6 4 11 12 9 8 -2 12 -1 8 3 -3 4 5 28 18 55 13 26 24 61 24 77 0 16 3 32 6 36 6 5 39 -36 106 -131 23 -32 44 -59 76 -97 10 -11 28 -37 41 -58 13 -21 42 -50 65 -65 22 -15 44 -31 47 -36 4 -5 12 -5 18 -2 6 4 33 13 60 20 l48 12 18 -33 c10 -18 31 -38 46 -45 33 -15 48 -65 31 -102 -10 -22 -90 -46 -337 -102 -33 -7 -91 -23 -130 -33 -38 -11 -74 -21 -78 -21 -8 0 0 580 7 588 2 1 21 -21 42 -50 21 -29 42 -57 47 -63 4 -5 33 -44 63 -85 58 -78 90 -109 112 -110 8 0 -1 12 -20 27 -18 16 -34 30 -36 33 -2 6 -144 196 -159 215 -5 6 -20 26 -33 45 l-25 35 -5 -75 c-3 -41 -7 -158 -8 -260 -3 -248 -10 -313 -31 -304 -9 3 -32 11 -51 16 -43 12 -211 61 -300 88 -36 11 -98 29 -139 41 l-73 20 3 118 4 117 -80 23 c-142 41 -180 53 -192 63 -17 13 -9 51 19 89 36 49 41 60 26 53 -19 -7 -78 -88 -78 -106 0 -32 41 -67 98 -83 31 -9 87 -25 124 -36 l68 -20 -3 -116 -2 -116 205 -60 c113 -33 247 -72 299 -86 l94 -27 301 75 c238 60 300 79 298 91 -2 8 -1 39 3 68 5 42 11 55 29 62 12 4 28 15 35 23 15 19 11 69 -6 75 -9 2 -11 -5 -8 -25 6 -32 1 -42 -38 -67 -24 -15 -33 -16 -57 -6 -26 11 -60 61 -60 89 0 7 -13 6 -37 -3 -70 -24 -111 -28 -141 -12 -17 9 -84 88 -158 187 -162 215 -149 199 -165 198 -10 0 -11 -2 -2 -6z"/> <path d="M2340 841 c0 -5 10 -22 23 -38 40 -48 41 -62 4 -78 -17 -7 -59 -18 -93 -25 -73 -14 -87 -22 -79 -43 6 -14 12 -14 53 -2 26 7 65 18 87 24 42 11 75 50 70 83 -3 16 -53 88 -61 88 -2 0 -4 -4 -4 -9z"/> <path d="M1330 746 c-77 -90 -123 -154 -68 -95 52 58 133 153 142 167 19 32 -9 5 -74 -72z"/> <path d="M2063 726 c-13 -6 -25 -17 -28 -24 -3 -9 1 -9 17 3 29 20 77 19 106 -1 13 -9 26 -14 29 -11 8 9 -43 37 -73 41 -16 1 -39 -2 -51 -8z"/> <path d="M2011 674 c0 -11 3 -14 6 -6 3 7 2 16 -1 19 -3 4 -6 -2 -5 -13z"/> <path d="M985 638 c-19 -8 -18 -8 2 -4 12 2 24 -1 26 -7 1 -5 8 -8 15 -6 8 3 6 8 -5 15 -11 7 -26 8 -38 2z"/> <path d="M1080 606 c19 -7 37 -12 39 -10 7 7 -3 12 -39 18 l-35 6 35 -14z"/> <path d="M1218 583 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/> </g> </svg> 
      }
          </Grid2>
        </Grid2>
      </Grid2>
    </motion.div>
  );
};

export default ColumnContainer;
